{"ast":null,"code":"import { CART_ITEM } from \"./Actionconstants\";\nlocalStorage.setItem('cartItems', JSON.stringify(initialstate.cart.cartitems));\nconst initialstate = {\n  cart: {\n    cartitems: localStorage.getItem('cartItems') ? JSON.parse(localStorage.getItem('cartItems')) : []\n  }\n};\nexport const CartReducer = (state = initialstate, action) => {\n  switch (action.type) {\n    case CART_ITEM:\n      {\n        const item = action.payload;\n        const itemexist = state.cart.cartitems.find(x => x.product === item.product);\n        console.log(itemexist);\n        console.log(state.cart.cartitems);\n\n        if (itemexist) {\n          return { ...state,\n            cartitems: state.cart.cartitems.map(x => x.product === item.product ? item : x)\n          };\n        } else {\n          return { ...state,\n            cartitems: [...state.cart.cartitems, item]\n          };\n        }\n      }\n\n    default:\n      return { ...state\n      };\n  }\n};\n_c = CartReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartReducer\");","map":{"version":3,"sources":["C:/react apps/amazon_frontend/Frontend/src/Store/CartReducer.js"],"names":["CART_ITEM","localStorage","setItem","JSON","stringify","initialstate","cart","cartitems","getItem","parse","CartReducer","state","action","type","item","payload","itemexist","find","x","product","console","log","map"],"mappings":"AAAA,SAASA,SAAT,QAA0B,mBAA1B;AAGAC,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeC,YAAY,CAACC,IAAb,CAAkBC,SAAjC,CAAjC;AAGA,MAAMF,YAAY,GAAC;AACfC,EAAAA,IAAI,EAAC;AACDC,IAAAA,SAAS,EAACN,YAAY,CAACO,OAAb,CAAqB,WAArB,IAEVL,IAAI,CAACM,KAAL,CAAWR,YAAY,CAACO,OAAb,CAAqB,WAArB,CAAX,CAFU,GAGT;AAJA;AADU,CAAnB;AASA,OAAO,MAAME,WAAW,GAAC,CAACC,KAAK,GAACN,YAAP,EAAoBO,MAApB,KAA6B;AAElD,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKb,SAAL;AAAe;AACX,cAAMc,IAAI,GAACF,MAAM,CAACG,OAAlB;AACA,cAAMC,SAAS,GAACL,KAAK,CAACL,IAAN,CAAWC,SAAX,CAAqBU,IAArB,CAA2BC,CAAD,IAAKA,CAAC,CAACC,OAAF,KAAYL,IAAI,CAACK,OAAhD,CAAhB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYL,SAAZ;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYV,KAAK,CAACL,IAAN,CAAWC,SAAvB;;AAEA,YAAGS,SAAH,EAAa;AACT,iBAAM,EACF,GAAGL,KADD;AAEFJ,YAAAA,SAAS,EAACI,KAAK,CAACL,IAAN,CAAWC,SAAX,CAAqBe,GAArB,CAA0BJ,CAAD,IAAKA,CAAC,CAACC,OAAF,KAAYL,IAAI,CAACK,OAAjB,GAAyBL,IAAzB,GAA8BI,CAA5D;AAFR,WAAN;AAKH,SAND,MAOI;AACA,iBAAM,EACF,GAAGP,KADD;AAEFJ,YAAAA,SAAS,EAAC,CAAC,GAAGI,KAAK,CAACL,IAAN,CAAWC,SAAf,EAAyBO,IAAzB;AAFR,WAAN;AAKH;AAEJ;;AACD;AACI,aAAM,EACF,GAAGH;AADD,OAAN;AAxBR;AA+BH,CAjCM;KAAMD,W","sourcesContent":["import { CART_ITEM } from \"./Actionconstants\";\r\n\r\n\r\nlocalStorage.setItem('cartItems',JSON.stringify(initialstate.cart.cartitems));\r\n\r\n\r\nconst initialstate={\r\n    cart:{\r\n        cartitems:localStorage.getItem('cartItems')\r\n        ?\r\n        JSON.parse(localStorage.getItem('cartItems'))\r\n        :[]\r\n    }\r\n}\r\n\r\nexport const CartReducer=(state=initialstate,action)=>{\r\n   \r\n    switch(action.type){\r\n        case CART_ITEM:{\r\n            const item=action.payload;\r\n            const itemexist=state.cart.cartitems.find((x)=>x.product===item.product);\r\n            console.log(itemexist);\r\n            console.log(state.cart.cartitems);\r\n            \r\n            if(itemexist){\r\n                return{\r\n                    ...state,\r\n                    cartitems:state.cart.cartitems.map((x)=>x.product===item.product?item:x),\r\n                }\r\n                \r\n            }\r\n            else{\r\n                return{\r\n                    ...state,\r\n                    cartitems:[...state.cart.cartitems,item],\r\n                }\r\n                \r\n            }\r\n            \r\n        }\r\n        default:\r\n            return{\r\n                ...state,\r\n                \r\n            }\r\n    }\r\n    \r\n\r\n}"]},"metadata":{},"sourceType":"module"}